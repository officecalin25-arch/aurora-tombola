<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Tombola Aurora Bistro</title>
</head>
<body>
  <div style="text-align:center;">
    <img src="logo.jpg" alt="Aurora Bistro Logo" style="max-width:200px;margin-top:10px;">
    <h2>ğŸ Tombola Aurora Bistro 2025</h2>
    <p><strong>RegulÄƒ / SzabÃ¡ly:</strong><br>
      ğŸ‡·ğŸ‡´ Pentru a participa, cumpÄƒrÄƒ o pizza È™i completeazÄƒ formularul de mai jos.<br>
      ğŸ‡­ğŸ‡º A rÃ©szvÃ©telhez vÃ¡sÃ¡rolj egy pizzÃ¡t Ã©s tÃ¶ltsd ki az alÃ¡bbi Å±rlapot.
    </p>
  </div>
  <hr>

  <h1>ğŸ„ Aurora Bistro Tombola 2025</h1>
  <form id="tombolaForm">
    <label>Nume (opÈ›ional) / NÃ©v (opcionÃ¡lis):
      <input name="name" autocomplete="name">
    </label><br><br>
    <label>NumÄƒr de telefon* / TelefonszÃ¡m*:
      <input name="phone" required inputmode="tel" placeholder="+40...">
    </label><br><br>
    <label>
      <input type="checkbox" name="consent" required>
      Sunt de acord / HozzÃ¡jÃ¡rulok ca datele mele sÄƒ fie prelucrate pentru tombola.
    </label><br><br>
    <button type="submit">Ãnscrie-mÄƒ / Jelentkezem</button>
  </form>
  <p id="msg" style="margin-top:10px;"></p>
  <script>
    document.getElementById('tombolaForm').onsubmit = async (e)=>{
      e.preventDefault();
      const data = Object.fromEntries(new FormData(e.target).entries());
      data.consent = !!data.consent;
      const res = await fetch('http://localhost:3000/api/subscribe', {
        method:'POST', headers:{'Content-Type':'application/json'},
        body: JSON.stringify(data)
      });
      const json = await res.json();
      document.getElementById('msg').textContent = json.message || 'Trimis.';
    };
  </script>
</body>
</html>
